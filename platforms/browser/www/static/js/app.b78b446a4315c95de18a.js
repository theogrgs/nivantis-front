webpackJsonp([0],{"+q3Y":function(t,e){},"7zck":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i={props:["title","active","pages"],data:function(){return{activePage:this.active,drawer:null}},methods:{goTo:function(t){if(!document.getElementById(t).classList.contains("d-block")){for(var e=0;e<this.pages.length;e++)document.getElementById(this.pages[e].name).classList.remove("d-block"),document.getElementById(this.pages[e].name).classList.add("d-none");this.activePage=t,document.getElementById(t).classList.add("d-block"),document.getElementById(t).classList.remove("d-none"),this.mounted}},goToB:function(t){this.goTo(t),this.drawer=!this.drawer}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{staticClass:"indigo hidden-xs-only",attrs:{id:"navbig",fixed:"",dark:""}},[a("v-toolbar-side-icon",{on:{click:function(e){t.drawer=!t.drawer}}}),t._v(" "),a("v-toolbar-title",{staticClass:"white--text"},[t._v("Nivantis - "+t._s(this.activePage))])],1),t._v(" "),a("v-navigation-drawer",{staticClass:"indigo hidden-xs-only",attrs:{dark:"",absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{staticClass:"pa-1"},[a("v-list-tile",[a("v-list-tile-content",[t._v("Nivantis")]),t._v(" "),a("v-list-tile-action",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[a("v-btn",{staticClass:"indigo",attrs:{flat:"",icon:""}},[a("v-icon",[t._v("close")])],1)],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-list",{staticClass:"pt-0"},t._l(t.pages,function(e){return a("v-list-tile",{key:e.name,on:{click:function(a){return t.goToB(e.name)}}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.name))])],1)],1)}),1)],1),t._v(" "),a("v-bottom-nav",{staticClass:"indigo hidden-sm-and-up",attrs:{id:"navmobile",dark:"",value:!0,fixed:""}},t._l(t.pages,function(e){return a("v-btn",{key:e.name,attrs:{dark:"",grow:""},on:{click:function(a){return t.goTo(e.name)}}},[a("span",[t._v(t._s(e.name))]),t._v(" "),a("v-icon",[t._v(t._s(e.icon))])],1)}),1)],1)},staticRenderFns:[]};var r=a("VU/8")(i,s,!1,function(t){a("+q3Y")},"data-v-187d53f2",null).exports,o={data:function(){return{panet:"",tauxremise:"",pabrut:"",pvnet:"",coeff:""}},computed:{panetIF:function(){return 0==this.pabrut||""==this.pabrut||isNaN(this.pabrut)||0==this.tauxremise||""==this.tauxremise||isNaN(this.tauxremise)},pvnetIF:function(){return!(0!==this.panet&&""!==this.panet&&!isNaN(this.panet)&&0!==this.coeff&&""!==this.coeff&&!isNaN(this.coeff))},tauxremiseIF:function(){return!(0!==this.panet&&""!==this.panet&&!isNaN(this.panet)&&0!==this.pabrut&&""!==this.pabrut&&!isNaN(this.pabrut))},coeffIF:function(){return!(0!==this.panet&&""!==this.panet&&!isNaN(this.panet)&&0!==this.pvnet&&""!==this.pvnet&&!isNaN(this.pvnet))}},methods:{calcPanet:function(){this.panet=(parseFloat(this.pabrut)*(1-parseFloat(this.tauxremise)/100)).toFixed(2)},calcTauxremise:function(){this.tauxremise=(100*(1-parseFloat(this.panet)/parseFloat(this.pabrut))).toFixed(2)},calcPvnet:function(){this.pvnet=(parseFloat(this.panet)*parseFloat(this.coeff)).toFixed(2)},calcCoeff:function(){this.coeff=(parseFloat(this.pvnet)/parseFloat(this.panet)).toFixed(2)}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{type:"number",label:"Prix d'achat net","prepend-inner-icon":"euro_symbol"},model:{value:t.panet,callback:function(e){t.panet=e},expression:"panet"}})],1),t._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[t.panetIF?t._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:t.calcPanet}},[a("v-icon",[t._v("pageview")])],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{type:"number",label:"Prix d'achat brut","prepend-inner-icon":"euro_symbol"},model:{value:t.pabrut,callback:function(e){t.pabrut=e},expression:"pabrut"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{type:"number",label:"Prix de vente net","prepend-inner-icon":"euro_symbol"},model:{value:t.pvnet,callback:function(e){t.pvnet=e},expression:"pvnet"}})],1),t._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[t.pvnetIF?t._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:t.calcPvnet}},[a("v-icon",[t._v("pageview")])],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{type:"number",label:"Taux de remise (%)","prepend-inner-icon":"loyalty"},model:{value:t.tauxremise,callback:function(e){t.tauxremise=e},expression:"tauxremise"}})],1),t._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[t.tauxremiseIF?t._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:t.calcTauxremise}},[a("v-icon",[t._v("pageview")])],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{type:"number",label:"Coefficient multiplicateur","prepend-inner-icon":"cancel"},model:{value:t.coeff,callback:function(e){t.coeff=e},expression:"coeff"}})],1),t._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[t.coeffIF?t._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:t.calcCoeff}},[a("v-icon",[t._v("pageview")])],1)],1)],1)],1)},staticRenderFns:[]},c=a("VU/8")(o,l,!1,null,null,null).exports,p={props:["pharmaid","nom","lat","lon","gerant","adresse","devlat","devlon"],computed:{distance_display:function(){var t=this.distance(this.lat,this.lon,this.devlat,this.devlon,"K");return t<1?Math.round(1e3*t)+"m":t+"km"}},methods:{distance:function(t,e,a,n,i){if(t==a&&e==n)return 0;var s=Math.PI*t/180,r=Math.PI*a/180,o=e-n,l=Math.PI*o/180,c=Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(l);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"==i&&(c*=1.609344),"N"==i&&(c*=.8684),c=c.toFixed(2)}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("h5",[t._v("Gérant : "+t._s(t.gerant))])]),t._v(" "),a("v-card-text",[a("p",{staticClass:"text-xs-center"})]),t._v(" "),a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{grow:""}},[a("v-icon",{attrs:{color:"red"}},[t._v("place")]),t._v("\n        "+t._s(t.adresse)+"\n      ")],1),t._v(" "),a("v-flex",{attrs:{shrink:""}},[a("v-icon",{attrs:{color:"green"}},[t._v("directions_walk")]),t._v("\n        "+t._s(t.distance_display)+"\n      ")],1)],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(p,u,!1,function(t){a("apyC")},null,null).exports,v=a("08a9"),h={data:function(){return{lat:0,lon:0,pharmas:[],pull:{pullText:"Tirez un peu plus",triggerText:"Relâchez pour rafraichir",loadingText:"Chargement...",doneText:"Terminé !",failText:"Erreur :(",loadedStayTime:100,stayDistance:50,triggerDistance:70}}},components:{PharmaInfos:d,PullTo:a.n(v).a},computed:{myPosition:function(){return new google.maps.LatLng(this.lat,this.lon)},map:function(){return new google.maps.Map(document.getElementById("map"),{center:this.myPosition,zoom:15})},service:function(){return new google.maps.places.PlacesService(this.map)}},methods:{geolocationSuccess:function(t){this.lat=t.coords.latitude,this.lon=t.coords.longitude,console.log(this.lat),this.pharmas=this.searchPharmas()},geolocationError:function(t){console.log(t),3==t.code?alert("Veuillez activer la géolocalisation géolocalisatrice de la géolocalité svp :)"):alert("code: "+t.code+"\nmessage: "+t.message+"\n")},searchPosition:function(t){navigator.geolocation.getCurrentPosition(this.geolocationSuccess,this.geolocationError,{timeout:3e3}),t("done")},searchPharmas:function(){var t=[];console.log("hey");var e=new XMLHttpRequest;if(e.open("GET","https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/nearbysearch/json?location="+this.lat+","+this.lon+"&rankby=distance&type=pharmacy&key=AIzaSyDxWZwNUysm95GtigT_oznJgeayse8wq2s",!1),e.send(null),200===e.status){var a=JSON.parse(e.response);console.log(a.results);for(var n=0;n<a.results.length;n++)t.push(a.results[n])}return console.log(t),t}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"hidden-xs-and-up",attrs:{id:"map"}}),t._v(" "),a("v-container",{attrs:{id:"pharmaciesList"}},[a("pull-to",{attrs:{"top-load-method":t.searchPosition,"top-config":t.pull}},[a("v-container",{attrs:{id:"pharmaciesList"}},[a("v-layout",{attrs:{column:""}},[a("v-expansion-panel",{attrs:{popout:"",expand:""}},t._l(t.pharmas,function(e){return a("v-expansion-panel-content",{key:e.name,attrs:{"expand-icon":"local_pharmacy"},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",[t._v(t._s(e.name))])]},proxy:!0}],null,!0)},[t._v(" "),a("pharma-infos",{attrs:{devlat:t.lat,devlon:t.lon,pharmaid:"pharma"+t.pharmas.indexOf(e),nom:e.name,gerant:"Jean de la Molfesse",lat:e.geometry.location.lat,lon:e.geometry.location.lng,adresse:e.vicinity}})],1)}),1)],1)],1)],1)],1),t._v(" "),a("v-btn",{staticClass:"indigo hidden-sm-and-down",attrs:{id:"refresh",fab:"",dark:""},on:{click:t.searchPosition}},[a("v-icon",{attrs:{dark:""}},[t._v("refresh")])],1)],1)},staticRenderFns:[]};var m={name:"App",components:{AppBar:r,Calculatrice:c,Pharmacies:a("VU/8")(h,f,!1,function(t){a("xD1J")},null,null).exports}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{attrs:{id:"appBar"}},[e("app-bar",{attrs:{title:"Nivantis",pages:[{name:"Pharmacies",icon:"local_pharmacy"},{name:"Calculatrice",icon:"dialpad"}],active:"Calculatrice"}})],1),this._v(" "),e("div",{attrs:{id:"main"}},[e("div",{staticClass:"w3-animate-opacity w3-show",attrs:{id:"Calculatrice"}},[e("calculatrice")],1),this._v(" "),e("div",{staticClass:"w3-animate-opacity w3-hide",attrs:{id:"Pharmacies"}},[e("pharmacies")],1)])])},staticRenderFns:[]};var _=a("VU/8")(m,g,!1,function(t){a("r1ij")},null,null).exports,x=(a("tMyM"),a("3EgV")),b=a.n(x);a("7zck");n.default.config.productionTip=!1,n.default.use(b.a),new n.default({el:"#app",components:{App:_},template:"<App/>"})},apyC:function(t,e){},r1ij:function(t,e){},tMyM:function(t,e){},xD1J:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b78b446a4315c95de18a.js.map