webpackJsonp([0],{"/6yI":function(e,t){},"1Vkx":function(e,t){},"7zck":function(e,t){},"97oI":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),o={props:["title","active","pages"],data:function(){return{activePage:this.active,drawer:null}},methods:{goTo:function(e){if(!document.getElementById(e).classList.contains("d-block")){for(var t=0;t<this.pages.length;t++)document.getElementById(this.pages[t].name).classList.remove("d-block"),document.getElementById(this.pages[t].name).classList.add("d-none");this.activePage=e,document.getElementById(e).classList.add("d-block"),document.getElementById(e).classList.remove("d-none"),this.mounted}},goToB:function(e){this.goTo(e),this.drawer=!this.drawer}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{staticClass:"indigo hidden-xs-only",attrs:{id:"navbig",fixed:"",dark:""}},[a("v-toolbar-side-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),e._v(" "),a("v-toolbar-title",{staticClass:"white--text"},[e._v("Nivantis - "+e._s(this.activePage))])],1),e._v(" "),a("v-navigation-drawer",{staticClass:"indigo hidden-xs-only",attrs:{dark:"",absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{staticClass:"pa-1"},[a("v-list-tile",[a("v-list-tile-content",[e._v("Nivantis")]),e._v(" "),a("v-list-tile-action",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}},[a("v-btn",{staticClass:"indigo",attrs:{flat:"",icon:""}},[a("v-icon",[e._v("close")])],1)],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-list",{staticClass:"pt-0"},e._l(e.pages,function(t){return a("v-list-tile",{key:t.name,on:{click:function(a){return e.goToB(t.name)}}},[a("v-list-tile-action",[a("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.name))])],1)],1)}),1)],1),e._v(" "),a("v-bottom-nav",{staticClass:"indigo hidden-sm-and-up",attrs:{id:"navmobile",dark:"",value:!0,fixed:""}},e._l(e.pages,function(t){return a("v-btn",{key:t.name,attrs:{dark:"",grow:""},on:{click:function(a){return e.goTo(t.name)}}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("v-icon",[e._v(e._s(t.icon))])],1)}),1)],1)},staticRenderFns:[]};var s=a("VU/8")(o,i,!1,function(e){a("aksB")},"data-v-7351e372",null).exports,r={data:function(){return{panet:"",tauxremise:"",pabrut:"",pvnet:"",coeff:""}},computed:{panetIF:function(){return 0==this.pabrut||""==this.pabrut||isNaN(this.pabrut)||0==this.tauxremise||""==this.tauxremise||isNaN(this.tauxremise)},pvnetIF:function(){return!(0!==this.panet&&""!==this.panet&&!isNaN(this.panet)&&0!==this.coeff&&""!==this.coeff&&!isNaN(this.coeff))},tauxremiseIF:function(){return!(0!==this.panet&&""!==this.panet&&!isNaN(this.panet)&&0!==this.pabrut&&""!==this.pabrut&&!isNaN(this.pabrut))},coeffIF:function(){return!(0!==this.panet&&""!==this.panet&&!isNaN(this.panet)&&0!==this.pvnet&&""!==this.pvnet&&!isNaN(this.pvnet))}},methods:{calcPanet:function(){this.panet=(parseFloat(this.pabrut)*(1-parseFloat(this.tauxremise)/100)).toFixed(2)},calcTauxremise:function(){this.tauxremise=(100*(1-parseFloat(this.panet)/parseFloat(this.pabrut))).toFixed(2)},calcPvnet:function(){this.pvnet=(parseFloat(this.panet)*parseFloat(this.coeff)).toFixed(2)},calcCoeff:function(){this.coeff=(parseFloat(this.pvnet)/parseFloat(this.panet)).toFixed(2)}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Prix d'achat net","prepend-inner-icon":"euro_symbol"},model:{value:e.panet,callback:function(t){e.panet=t},expression:"panet"}})],1),e._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[e.panetIF?e._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:e.calcPanet}},[a("v-icon",[e._v("pageview")])],1)],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Prix d'achat brut","prepend-inner-icon":"euro_symbol"},model:{value:e.pabrut,callback:function(t){e.pabrut=t},expression:"pabrut"}})],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Prix de vente net","prepend-inner-icon":"euro_symbol"},model:{value:e.pvnet,callback:function(t){e.pvnet=t},expression:"pvnet"}})],1),e._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[e.pvnetIF?e._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:e.calcPvnet}},[a("v-icon",[e._v("pageview")])],1)],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Taux de remise (%)","prepend-inner-icon":"loyalty"},model:{value:e.tauxremise,callback:function(t){e.tauxremise=t},expression:"tauxremise"}})],1),e._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[e.tauxremiseIF?e._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:e.calcTauxremise}},[a("v-icon",[e._v("pageview")])],1)],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Coefficient multiplicateur","prepend-inner-icon":"cancel"},model:{value:e.coeff,callback:function(t){e.coeff=t},expression:"coeff"}})],1),e._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[e.coeffIF?e._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:e.calcCoeff}},[a("v-icon",[e._v("pageview")])],1)],1)],1)],1)},staticRenderFns:[]},c=a("VU/8")(r,l,!1,null,null,null).exports,u={props:["pharmaid","nom","lat","lon","gerant","adresse","devlat","devlon","telephone","ville","mail"],computed:{distance_display:function(){var e=this.distance(this.lat,this.lon,this.devlat,this.devlon,"K");return e<1?Math.round(1e3*e)+"m":e+"km"}},methods:{distance:function(e,t,a,n,o){if(e==a&&t==n)return 0;var i=Math.PI*e/180,s=Math.PI*a/180,r=t-n,l=Math.PI*r/180,c=Math.sin(i)*Math.sin(s)+Math.cos(i)*Math.cos(s)*Math.cos(l);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"==o&&(c*=1.609344),"N"==o&&(c*=.8684),c=c.toFixed(2)}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("h5",[e._v("Gérant : "+e._s(e.gerant))])]),e._v(" "),a("v-card-text",[a("p",{staticClass:"text-xs-center"},[e._v("Tél:"+e._s(e.telephone))]),e._v(" "),a("p",{staticClass:"text-xs-center"},[e._v("@:"+e._s(e.mail))])]),e._v(" "),a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{grow:""}},[a("v-icon",{attrs:{color:"red"}},[e._v("place")]),e._v("\n        "+e._s(e.adresse)+","+e._s(e.ville)+"\n      ")],1),e._v(" "),a("v-flex",{attrs:{shrink:""}},[a("v-icon",{attrs:{color:"green"}},[e._v("directions_walk")]),e._v("\n        "+e._s(e.distance_display)+"\n      ")],1)],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(u,v,!1,function(e){a("97oI")},null,null).exports,p=a("08a9"),f={data:function(){return{lat:0,lon:0,pharmas:[]}},components:{PharmaInfos:d,PullTo:a.n(p).a},methods:{geolocationSuccess:function(e){this.lat=e.coords.latitude,this.lon=e.coords.longitude,this.pharmas=this.searchPharmas()},geolocationError:function(e){console.log(e),3==e.code?alert("Veuillez activer la géolocalisation géolocalisatrice de la géolocalité svp :)"):alert("code: "+e.code+"\nmessage: "+e.message+"\n")},searchPosition:function(){navigator.geolocation.getCurrentPosition(this.geolocationSuccess,this.geolocationError,{timeout:5e3})},searchPharmas:function(){var e=[];return fetch("https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/nearbysearch/json?location="+this.lat+","+this.lon+"&rankby=distance&type=pharmacy&key=AIzaSyDxWZwNUysm95GtigT_oznJgeayse8wq2s").then(function(t){t.ok?t.json().then(function(a){for(var n=function(n){fetch("http://192.168.43.27:80/officine?latitude="+a.results[n].geometry.location.lat+"&longitude="+a.results[n].geometry.location.lng).then(function(o){if(console.log(t),o.ok)o.json().then(function(t){console.log(t),e.push(t)});else{var i=a.results[n];console.log(i),i.adresse=i.vicinity,i.nom_gerant="Inconnu",i.telephone="Inconnu",i.ville="",i.mail="Inconnu",i.raison_sociale=i.name,i.latitude=i.geometry.location.lat,i.longitude=i.geometry.location.lng,i.complement_adresse="",i.date_adhesion="",e.push(i)}})},o=0;o<a.results.length;o++)n(o)}):console.log("Mauvaise réponse du réseau")}).catch(function(e){console.log(e),alert("Il y a eu un problème avec l'opération fetch: "+e.message)}),e}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"hidden-xs-and-up",attrs:{id:"map"}}),e._v(" "),a("v-container",[a("v-layout",{attrs:{column:""}},[a("v-expansion-panel",{attrs:{popout:"",expand:""}},e._l(e.pharmas,function(t){return a("v-expansion-panel-content",{key:t.name,attrs:{"expand-icon":"local_pharmacy"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",[e._v(e._s(t.name))])]},proxy:!0}],null,!0)},[e._v(" "),a("pharma-infos",{attrs:{devlat:e.lat,devlon:e.lon,pharmaid:"pharma"+e.pharmas.indexOf(t),nom:t.raison_sociale,gerant:t.nom_gerant,lat:t.latitude,lon:t.longitude,adresse:t.adresse,ville:t.ville,telephone:t.telephone,mail:t.mail}})],1)}),1)],1)],1),e._v(" "),a("v-btn",{attrs:{id:"refresh",fab:"",dark:"",color:"indigo"},on:{click:e.searchPosition}},[a("v-icon",{attrs:{dark:""}},[e._v("refresh")])],1)],1)},staticRenderFns:[]};var m=a("VU/8")(f,h,!1,function(e){a("1Vkx")},null,null).exports,_=a("mvHQ"),g=a.n(_),x={data:function(){return{desc:"",title:"",color:"purple",questions:[{type:"cm",title:"",choices:[{text:""}]}],types:[{value:"cm",label:"Choix multiples"},{value:"qo",label:"Question ouverte"}],colors:[{value:"red",label:"Rouge"},{value:"pink",label:"Rose"},{value:"purple",label:"Violet"},{value:"deep-purple",label:"Violet foncé"},{value:"indigo",label:"Indigo"},{value:"blue",label:"Bleu"},{value:"light-blue",label:"Bleu clair"},{value:"cyan",label:"Cyan"},{value:"teal",label:'Bleu "sarcelle"'},{value:"green",label:"Vert"},{value:"light-green",label:"Vert clair"},{value:"lime",label:"Citron"},{value:"yellow",label:"Jaune"},{value:"amber",label:"Ambre"},{value:"orange",label:"Orange"},{value:"deep-orange",label:"Orange foncé"},{value:"brown",label:"Marron"},{value:"blue-grey",label:"Gris-Bleu"},{value:"grey",label:"Gris"},{value:"black",label:"Noir"}]}},methods:{addQuestion:function(){this.questions.push({type:"cm",title:"",choices:[{text:""}]})},delQuestion:function(e){this.questions.splice(this.questions.indexOf(e),1)},cmNewOpt:function(e,t){this.questions[this.questions.indexOf(e)].choices.push({text:""})},cmDelOpt:function(e,t){e.choices.length>1&&this.questions[this.questions.indexOf(e)].choices.splice(this.questions[this.questions.indexOf(e)].choices.indexOf(t),1)},prependIcon:function(e){return"cm"==e?"radio_button_checked":"notes"},generateForm:function(){var e={};e.title=this.title,e.desc=this.desc,e.color=this.color,e.questions=[];for(var t=0;t<this.questions.length;t++)e.questions.push({question:this.questions[t],reponse:{text:""}});return g()(e)},uploadForm:function(){var e=localStorage.getItem("forms"),t=this.generateForm();if(e)(e=JSON.parse(e)).push(this.generateForm()),localStorage.setItem("forms",g()(e));else{var a=[t];localStorage.setItem("forms",g()(a))}alert("Formulaire enregistré")}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-text-field",{attrs:{label:"Titre",color:e.color,box:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),a("v-textarea",{attrs:{label:"Description","auto-grow":"",box:"",color:e.color,rows:"1"},model:{value:e.desc,callback:function(t){e.desc=t},expression:"desc"}}),e._v(" "),a("v-select",{attrs:{color:e.color,items:e.colors,"item-text":"label","item-value":"value",label:"Couleur","prepend-icon":"color_lens",box:""},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}}),e._v(" "),e._l(e.questions,function(t){return a("v-card",{key:e.questions.indexOf(t),staticClass:"mb-2"},[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{grow:"","pa-2":""}},[a("v-textarea",{attrs:{rows:"1","auto-grow":"",color:e.color,label:"Question "+(e.questions.indexOf(t)+1)+" : Intitulé"},model:{value:t.title,callback:function(a){e.$set(t,"title",a)},expression:"question.title"}})],1),e._v(" "),a("v-flex",{attrs:{shrink:"","pa-2":""}},[a("v-select",{attrs:{items:e.types,"item-value":"value","item-text":"label","prepend-icon":e.prependIcon(t.type),color:e.color},model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"question.type"}})],1)],1),e._v(" "),"qo"==t.type?a("v-text-field",{attrs:{value:"Réponse",disabled:""}}):e._e(),e._v(" "),"cm"==t.type?a("div",[e._l(t.choices,function(n){return a("v-layout",{key:t.choices.indexOf(n),attrs:{row:""}},[a("v-text-field",{attrs:{"prepend-icon":"radio_button_unchecked",label:"Option "+(t.choices.indexOf(n)+1),color:e.color},model:{value:n.text,callback:function(t){e.$set(n,"text",t)},expression:"choice.text"}}),e._v(" "),a("v-btn",{attrs:{flat:"",icon:"",color:e.color},on:{click:function(a){return e.cmDelOpt(t,n)}}},[a("v-icon",[e._v("close")])],1)],1)}),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-icon",[e._v("radio_button_unchecked")]),e._v(" "),a("v-btn",{attrs:{flat:"",icon:"",color:e.color},on:{click:function(a){return e.cmNewOpt(t)}}},[a("v-icon",[e._v("plus_one")])],1)],1)],2):e._e()],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{flat:"",icon:"",color:e.color},on:{click:function(a){return e.delQuestion(t)}}},[a("v-icon",[e._v("delete")])],1)],1)],1)}),e._v(" "),a("v-btn",{attrs:{id:"save",fab:"",dark:"",color:"green"},on:{click:e.uploadForm}},[a("v-icon",[e._v("cloud_upload")])],1),e._v(" "),a("v-btn",{style:{left:"50%",transform:"translateX(-50%)"},attrs:{bottom:"",dark:"",small:"",color:"indigo"},on:{click:e.addQuestion}},[a("v-icon",[e._v("add")])],1)],2)},staticRenderFns:[]};var y={data:function(){return{forms:[]}},methods:{refresh:function(){var e=JSON.parse(localStorage.getItem("forms")),t=[];if(e){for(var a=0;a<e.length;a++)t.push(JSON.parse(e[a]));this.forms=t}},send:function(e){var t=g()(e);console.log(t)}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",{attrs:{column:""}},[a("v-expansion-panel",{attrs:{popout:"",expand:""}},e._l(e.forms,function(t){return a("v-expansion-panel-content",{key:e.forms.indexOf(t),scopedSlots:e._u([{key:"header",fn:function(){return[a("h3",{class:t.color+"--text"},[e._v(e._s(t.title))])]},proxy:!0}],null,!0)},[e._v(" "),a("h2",{staticClass:"text-xs-center"},[e._v(e._s(t.title))]),e._v(" "),a("p",{staticClass:"text-xs-center"},[e._v(e._s(t.desc))]),e._v(" "),e._l(t.questions,function(n){return a("v-card",{key:t.questions.indexOf(n),staticClass:"ma-2 pa-3"},[a("h4",{style:"color:"+t.color},[e._v(e._s(t.questions.indexOf(n)+1)+". "+e._s(n.question.title))]),e._v(" "),"qo"==n.question.type?a("v-textarea",{attrs:{color:t.color,rows:"1","auto-grow":"",label:"Réponse"},model:{value:n.reponse.text,callback:function(t){e.$set(n.reponse,"text",t)},expression:"question.reponse.text"}}):e._e(),e._v(" "),"cm"==n.question.type?a("v-radio-group",{model:{value:n.reponse.text,callback:function(t){e.$set(n.reponse,"text",t)},expression:"question.reponse.text"}},e._l(n.question.choices,function(e){return a("v-radio",{key:n.question.choices.indexOf(e),attrs:{label:e.text,value:e.text,color:t.color}})}),1):e._e()],1)}),e._v(" "),a("div",{staticClass:"text-xs-right"},[a("v-btn",{attrs:{dark:"",color:"green"},on:{click:function(a){return e.send(t)}}},[a("v-icon",[e._v("send")])],1)],1)],2)}),1)],1),e._v(" "),a("v-btn",{attrs:{id:"refresh",fab:"",dark:"",color:"indigo"},on:{click:e.refresh}},[a("v-icon",{attrs:{dark:""}},[e._v("refresh")])],1)],1)},staticRenderFns:[]};var w={name:"App",components:{AppBar:s,Calculatrice:c,Pharmacies:m,Formulaires:a("VU/8")(x,b,!1,function(e){a("/6yI")},null,null).exports,Sondages:a("VU/8")(y,k,!1,function(e){a("hyBz")},null,null).exports}},F={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",{attrs:{id:"app"}},[t("div",{attrs:{id:"appBar"}},[t("app-bar",{attrs:{title:"Nivantis",pages:[{name:"Pharmacies",icon:"local_pharmacy"},{name:"Calculatrice",icon:"dialpad"},{name:"Formulaires",icon:"ballot"},{name:"Sondages",icon:"assignment"}],active:"Calculatrice"}})],1),this._v(" "),t("div",{attrs:{id:"main"}},[t("div",{staticClass:"animate-opacity d-block",attrs:{id:"Calculatrice"}},[t("calculatrice")],1),this._v(" "),t("div",{staticClass:"animate-opacity d-none",attrs:{id:"Pharmacies"}},[t("pharmacies")],1),this._v(" "),t("div",{staticClass:"animate-opacity d-none",attrs:{id:"Formulaires"}},[t("formulaires")],1),this._v(" "),t("div",{staticClass:"animate-opacity d-none",attrs:{id:"Sondages"}},[t("sondages")],1)])])},staticRenderFns:[]};var I=a("VU/8")(w,F,!1,function(e){a("ygvQ")},null,null).exports,q=(a("tMyM"),a("3EgV")),C=a.n(q);a("7zck");n.default.config.productionTip=!1,n.default.use(C.a),new n.default({el:"#app",components:{App:I},template:"<App/>"})},aksB:function(e,t){},hyBz:function(e,t){},tMyM:function(e,t){},ygvQ:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c9390d9360b1c11fc84c.js.map