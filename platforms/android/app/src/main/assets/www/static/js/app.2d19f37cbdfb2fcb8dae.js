webpackJsonp([0],{"7zck":function(t,e){},Ir3B:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),o={props:["title","active","pages"],data:function(){return{activePage:this.active,drawer:null}},methods:{goTo:function(t){if(!document.getElementById(t).classList.contains("d-block")){for(var e=0;e<this.pages.length;e++)document.getElementById(this.pages[e].name).classList.remove("d-block"),document.getElementById(this.pages[e].name).classList.add("d-none");this.activePage=t,document.getElementById(t).classList.add("d-block"),document.getElementById(t).classList.remove("d-none"),this.mounted}},goToB:function(t){this.goTo(t),this.drawer=!this.drawer}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{staticClass:"indigo hidden-xs-only",attrs:{id:"navbig",fixed:"",dark:""}},[a("v-toolbar-side-icon",{on:{click:function(e){t.drawer=!t.drawer}}}),t._v(" "),a("v-toolbar-title",{staticClass:"white--text"},[t._v("Nivantis - "+t._s(this.activePage))])],1),t._v(" "),a("v-navigation-drawer",{staticClass:"indigo hidden-xs-only",attrs:{dark:"",absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{staticClass:"pa-1"},[a("v-list-tile",[a("v-list-tile-content",[t._v("Nivantis")]),t._v(" "),a("v-list-tile-action",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[a("v-btn",{staticClass:"indigo",attrs:{flat:"",icon:""}},[a("v-icon",[t._v("close")])],1)],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-list",{staticClass:"pt-0"},t._l(t.pages,function(e){return a("v-list-tile",{key:e.name,on:{click:function(a){return t.goToB(e.name)}}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.name))])],1)],1)}),1)],1),t._v(" "),a("v-bottom-nav",{staticClass:"indigo hidden-sm-and-up",attrs:{id:"navmobile",dark:"",value:!0,fixed:""}},t._l(t.pages,function(e){return a("v-btn",{key:e.name,attrs:{dark:"",grow:""},on:{click:function(a){return t.goTo(e.name)}}},[a("span",[t._v(t._s(e.name))]),t._v(" "),a("v-icon",[t._v(t._s(e.icon))])],1)}),1)],1)},staticRenderFns:[]};var l=a("VU/8")(o,i,!1,function(t){a("aksB")},"data-v-7351e372",null).exports,r={data:function(){return{panet:"",tauxremise:"",pabrut:"",pvnet:"",coeff:""}},computed:{panetIF:function(){return 0==this.pabrut||""==this.pabrut||isNaN(this.pabrut)||0==this.tauxremise||""==this.tauxremise||isNaN(this.tauxremise)},pvnetIF:function(){return!(0!==this.panet&&""!==this.panet&&!isNaN(this.panet)&&0!==this.coeff&&""!==this.coeff&&!isNaN(this.coeff))},tauxremiseIF:function(){return!(0!==this.panet&&""!==this.panet&&!isNaN(this.panet)&&0!==this.pabrut&&""!==this.pabrut&&!isNaN(this.pabrut))},coeffIF:function(){return!(0!==this.panet&&""!==this.panet&&!isNaN(this.panet)&&0!==this.pvnet&&""!==this.pvnet&&!isNaN(this.pvnet))}},methods:{calcPanet:function(){this.panet=(parseFloat(this.pabrut)*(1-parseFloat(this.tauxremise)/100)).toFixed(2)},calcTauxremise:function(){this.tauxremise=(100*(1-parseFloat(this.panet)/parseFloat(this.pabrut))).toFixed(2)},calcPvnet:function(){this.pvnet=(parseFloat(this.panet)*parseFloat(this.coeff)).toFixed(2)},calcCoeff:function(){this.coeff=(parseFloat(this.pvnet)/parseFloat(this.panet)).toFixed(2)}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Prix d'achat net","prepend-inner-icon":"euro_symbol"},model:{value:t.panet,callback:function(e){t.panet=e},expression:"panet"}})],1),t._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[t.panetIF?t._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:t.calcPanet}},[a("v-icon",[t._v("pageview")])],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Prix d'achat brut","prepend-inner-icon":"euro_symbol"},model:{value:t.pabrut,callback:function(e){t.pabrut=e},expression:"pabrut"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Prix de vente net","prepend-inner-icon":"euro_symbol"},model:{value:t.pvnet,callback:function(e){t.pvnet=e},expression:"pvnet"}})],1),t._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[t.pvnetIF?t._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:t.calcPvnet}},[a("v-icon",[t._v("pageview")])],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Taux de remise (%)","prepend-inner-icon":"loyalty"},model:{value:t.tauxremise,callback:function(e){t.tauxremise=e},expression:"tauxremise"}})],1),t._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[t.tauxremiseIF?t._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:t.calcTauxremise}},[a("v-icon",[t._v("pageview")])],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Coefficient multiplicateur","prepend-inner-icon":"cancel"},model:{value:t.coeff,callback:function(e){t.coeff=e},expression:"coeff"}})],1),t._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[t.coeffIF?t._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:t.calcCoeff}},[a("v-icon",[t._v("pageview")])],1)],1)],1)],1)},staticRenderFns:[]},c=a("VU/8")(r,s,!1,null,null,null).exports,u={props:["pharmaid","nom","lat","lon","gerant","adresse","devlat","devlon"],computed:{distance_display:function(){var t=this.distance(this.lat,this.lon,this.devlat,this.devlon,"K");return t<1?Math.round(1e3*t)+"m":t+"km"}},methods:{distance:function(t,e,a,n,o){if(t==a&&e==n)return 0;var i=Math.PI*t/180,l=Math.PI*a/180,r=e-n,s=Math.PI*r/180,c=Math.sin(i)*Math.sin(l)+Math.cos(i)*Math.cos(l)*Math.cos(s);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"==o&&(c*=1.609344),"N"==o&&(c*=.8684),c=c.toFixed(2)}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("h5",[t._v("Gérant : "+t._s(t.gerant))])]),t._v(" "),a("v-card-text",[a("p",{staticClass:"text-xs-center"})]),t._v(" "),a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{grow:""}},[a("v-icon",{attrs:{color:"red"}},[t._v("place")]),t._v("\n        "+t._s(t.adresse)+"\n      ")],1),t._v(" "),a("v-flex",{attrs:{shrink:""}},[a("v-icon",{attrs:{color:"green"}},[t._v("directions_walk")]),t._v("\n        "+t._s(t.distance_display)+"\n      ")],1)],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(u,v,!1,function(t){a("apyC")},null,null).exports,p=a("08a9"),f={data:function(){return{lat:0,lon:0,pharmas:[]}},components:{PharmaInfos:d,PullTo:a.n(p).a},methods:{geolocationSuccess:function(t){this.lat=t.coords.latitude,this.lon=t.coords.longitude,this.pharmas=this.searchPharmas()},geolocationError:function(t){console.log(t),3==t.code?alert("Veuillez activer la géolocalisation géolocalisatrice de la géolocalité svp :)"):alert("code: "+t.code+"\nmessage: "+t.message+"\n")},searchPosition:function(){navigator.geolocation.getCurrentPosition(this.geolocationSuccess,this.geolocationError,{timeout:5e3})},searchPharmas:function(){var t=[];return fetch("https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/nearbysearch/json?location="+this.lat+","+this.lon+"&rankby=distance&type=pharmacy&key=AIzaSyDxWZwNUysm95GtigT_oznJgeayse8wq2s").then(function(e){e.ok?e.json().then(function(e){for(var a=0;a<e.results.length;a++)t.push(e.results[a])}):console.log("Mauvaise réponse du réseau")}).catch(function(t){console.log(t),alert("Il y a eu un problème avec l'opération fetch: "+t.message)}),t}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"hidden-xs-and-up",attrs:{id:"map"}}),t._v(" "),a("v-container",[a("v-layout",{attrs:{column:""}},[a("v-expansion-panel",{attrs:{popout:"",expand:""}},t._l(t.pharmas,function(e){return a("v-expansion-panel-content",{key:e.name,attrs:{"expand-icon":"local_pharmacy"},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",[t._v(t._s(e.name))])]},proxy:!0}],null,!0)},[t._v(" "),a("pharma-infos",{attrs:{devlat:t.lat,devlon:t.lon,pharmaid:"pharma"+t.pharmas.indexOf(e),nom:e.name,gerant:"Jean de la Molfesse",lat:e.geometry.location.lat,lon:e.geometry.location.lng,adresse:e.vicinity}})],1)}),1)],1)],1),t._v(" "),a("v-btn",{attrs:{id:"refresh",fab:"",dark:"",color:"indigo"},on:{click:t.searchPosition}},[a("v-icon",{attrs:{dark:""}},[t._v("refresh")])],1)],1)},staticRenderFns:[]};var m=a("VU/8")(f,h,!1,function(t){a("Ir3B")},null,null).exports,_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{grow:"","pa-2":""}},[a("v-textarea",{attrs:{rows:"1","auto-grow":"",color:t.color,label:"Titre de la question"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),t._v(" "),a("v-flex",{attrs:{shrink:"","pa-2":""}},[a("v-select",{attrs:{items:t.items,"item-value":"value","item-text":"label","prepend-icon":t.prependIcon,color:t.color},model:{value:t.typeQ,callback:function(e){t.typeQ=e},expression:"typeQ"}})],1)],1),t._v(" "),"qo"==t.typeQ?a("v-text-field",{attrs:{value:"Réponse",disabled:""}}):t._e(),t._v(" "),"cm"==t.typeQ?a("div",[t._l(t.choices,function(e){return a("v-layout",{key:t.choices.indexOf(e),attrs:{row:""}},[a("v-text-field",{attrs:{"prepend-icon":"radio_button_unchecked",label:"Option "+(t.choices.indexOf(e)+1),color:t.color},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"choice.text"}}),t._v(" "),a("v-btn",{attrs:{flat:"",icon:"",color:t.color,disabled:t.choices.indexOf(e)<1},on:{click:function(a){return t.cmDelOpt(e)}}},[a("v-icon",[t._v("close")])],1)],1)}),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-icon",[t._v("radio_button_unchecked")]),t._v(" "),a("v-btn",{attrs:{flat:"",icon:"",color:t.color},on:{click:t.cmNewOpt}},[a("v-icon",[t._v("plus_one")])],1)],1)],2):t._e()],1)},staticRenderFns:[]};var b={data:function(){return{desc:"",title:"",color:"purple",questions:[{type:"cm",title:"",choices:[{text:""}]}],types:[{value:"cm",label:"Choix multiples",icon:"radio_button_checked"},{value:"qo",label:"Question ouverte",icon:"notes"}],colors:[{value:"red",label:"Rouge"},{value:"pink",label:"Rose"},{value:"purple",label:"Violet"},{value:"deep-purple",label:"Violet foncé"},{value:"indigo",label:"Indigo"},{value:"blue",label:"Bleu"},{value:"light-blue",label:"Bleu clair"},{value:"cyan",label:"Cyan"},{value:"teal",label:'Bleu "sarcelle"'},{value:"green",label:"Vert"},{value:"light-green",label:"Vert clair"},{value:"lime",label:"Citron"},{value:"yellow",label:"Jaune"},{value:"amber",label:"Ambre"},{value:"orange",label:"Orange"},{value:"deep-orange",label:"Orange foncé"},{value:"brown",label:"Marron"},{value:"blue-grey",label:"Gris-Bleu"},{value:"grey",label:"Gris"},{value:"black",label:"Noir"}]}},components:{CreateurQuestion:a("VU/8")({props:["color","type"],data:function(){return{text:"",choices:[{text:""},{text:""}],items:[{value:"cm",label:"Choix multiples",icon:"radio_button_checked"},{value:"qo",label:"Question ouverte",icon:"notes"}],typeQ:this.type}},computed:{prependIcon:function(){return"cm"==this.typeQ?"radio_button_checked":"notes"}},methods:{cmNewOpt:function(){this.choices.push({text:""})},cmDelOpt:function(t){this.choices.splice(this.choices.indexOf(t),1)}}},_,!1,function(t){a("kChr")},null,null).exports},methods:{addQuestion:function(){this.questions.push({type:"cm",title:"",choices:[{text:""}]})},delQuestion:function(t){this.questions.splice(this.questions.indexOf(t),1)},cmNewOpt:function(t,e){this.questions[this.questions.indexOf(t)].choices.push({text:""})},cmDelOpt:function(t,e){t.choices.length>1&&this.questions[this.questions.indexOf(t)].choices.splice(this.questions[this.questions.indexOf(t)].choices.indexOf(e),1)},prependIcon:function(t){return"cm"==t?"radio_button_checked":"notes"}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-text-field",{attrs:{label:"Titre",color:t.color,box:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),a("v-textarea",{attrs:{label:"Description","auto-grow":"",box:"",color:t.color,rows:"1"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}}),t._v(" "),a("v-select",{attrs:{color:t.color,items:t.colors,"item-text":"label","item-value":"value",label:"Couleur","prepend-icon":"color_lens",box:""},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),t._v(" "),t._l(t.questions,function(e){return a("v-card",{key:t.questions.indexOf(e),staticClass:"mb-2"},[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{grow:"","pa-2":""}},[a("v-textarea",{attrs:{rows:"1","auto-grow":"",color:t.color,label:"Titre de la question"},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"question.title"}})],1),t._v(" "),a("v-flex",{attrs:{shrink:"","pa-2":""}},[a("v-select",{attrs:{items:t.types,"item-value":"value","item-text":"label","prepend-icon":t.prependIcon(e.type),color:t.color},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"question.type"}})],1)],1),t._v(" "),"qo"==e.type?a("v-text-field",{attrs:{value:"Réponse",disabled:""}}):t._e(),t._v(" "),"cm"==e.type?a("div",[t._l(e.choices,function(n){return a("v-layout",{key:e.choices.indexOf(n),attrs:{row:""}},[a("v-text-field",{attrs:{"prepend-icon":"radio_button_unchecked",label:"Option "+(e.choices.indexOf(n)+1),color:t.color},model:{value:n.text,callback:function(e){t.$set(n,"text",e)},expression:"choice.text"}}),t._v(" "),a("v-btn",{attrs:{flat:"",icon:"",color:t.color},on:{click:function(a){return t.cmDelOpt(e,n)}}},[a("v-icon",[t._v("close")])],1)],1)}),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-icon",[t._v("radio_button_unchecked")]),t._v(" "),a("v-btn",{attrs:{flat:"",icon:"",color:t.color},on:{click:function(a){return t.cmNewOpt(e)}}},[a("v-icon",[t._v("plus_one")])],1)],1)],2):t._e()],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",icon:"",color:t.color},on:{click:function(a){return t.delQuestion(e)}}},[a("v-icon",[t._v("delete")])],1)],1)],1)}),t._v(" "),a("v-btn",{attrs:{id:"save",fab:"",dark:"",color:"green"}},[a("v-icon",[t._v("cloud_upload")])],1),t._v(" "),a("v-btn",{style:{left:"50%",transform:"translateX(-50%)"},attrs:{bottom:"",dark:"",color:"indigo"},on:{click:t.addQuestion}},[a("v-icon",[t._v("add")])],1)],2)},staticRenderFns:[]};var g={name:"App",components:{AppBar:l,Calculatrice:c,Pharmacies:m,Formulaires:a("VU/8")(b,x,!1,function(t){a("kzZ/")},null,null).exports}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{id:"app"}},[e("div",{attrs:{id:"appBar"}},[e("app-bar",{attrs:{title:"Nivantis",pages:[{name:"Pharmacies",icon:"local_pharmacy"},{name:"Calculatrice",icon:"dialpad"},{name:"Formulaires",icon:"ballot"}],active:"Calculatrice"}})],1),this._v(" "),e("div",{attrs:{id:"main"}},[e("div",{staticClass:"animate-opacity d-block",attrs:{id:"Calculatrice"}},[e("calculatrice")],1),this._v(" "),e("div",{staticClass:"animate-opacity d-none",attrs:{id:"Pharmacies"}},[e("pharmacies")],1),this._v(" "),e("div",{staticClass:"animate-opacity d-none",attrs:{id:"Formulaires"}},[e("formulaires")],1)])])},staticRenderFns:[]};var k=a("VU/8")(g,y,!1,function(t){a("Qt4X")},null,null).exports,w=(a("tMyM"),a("3EgV")),C=a.n(w);a("7zck");n.default.config.productionTip=!1,n.default.use(C.a),new n.default({el:"#app",components:{App:k},template:"<App/>"})},Qt4X:function(t,e){},aksB:function(t,e){},apyC:function(t,e){},kChr:function(t,e){},"kzZ/":function(t,e){},tMyM:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2d19f37cbdfb2fcb8dae.js.map