webpackJsonp([0],{"+q3Y":function(e,t){},"2QcD":function(e,t){},"7zck":function(e,t){},LPJJ:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),o={props:["title","active","pages"],data:function(){return{activePage:this.active,drawer:null}},methods:{goTo:function(e){if(!document.getElementById(e).classList.contains("d-block")){for(var t=0;t<this.pages.length;t++)document.getElementById(this.pages[t].name).classList.remove("d-block"),document.getElementById(this.pages[t].name).classList.add("d-none");this.activePage=e,document.getElementById(e).classList.add("d-block"),document.getElementById(e).classList.remove("d-none"),this.mounted}},goToB:function(e){this.goTo(e),this.drawer=!this.drawer}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{staticClass:"indigo hidden-xs-only",attrs:{id:"navbig",fixed:"",dark:""}},[a("v-toolbar-side-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),e._v(" "),a("v-toolbar-title",{staticClass:"white--text"},[e._v("Nivantis - "+e._s(this.activePage))])],1),e._v(" "),a("v-navigation-drawer",{staticClass:"indigo hidden-xs-only",attrs:{dark:"",absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{staticClass:"pa-1"},[a("v-list-tile",[a("v-list-tile-content",[e._v("Nivantis")]),e._v(" "),a("v-list-tile-action",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}},[a("v-btn",{staticClass:"indigo",attrs:{flat:"",icon:""}},[a("v-icon",[e._v("close")])],1)],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-list",{staticClass:"pt-0"},e._l(e.pages,function(t){return a("v-list-tile",{key:t.name,on:{click:function(a){return e.goToB(t.name)}}},[a("v-list-tile-action",[a("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.name))])],1)],1)}),1)],1),e._v(" "),a("v-bottom-nav",{staticClass:"indigo hidden-sm-and-up",attrs:{id:"navmobile",dark:"",value:!0,fixed:""}},e._l(e.pages,function(t){return a("v-btn",{key:t.name,attrs:{dark:"",grow:""},on:{click:function(a){return e.goTo(t.name)}}},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("v-icon",[e._v(e._s(t.icon))])],1)}),1)],1)},staticRenderFns:[]};var r=a("VU/8")(o,i,!1,function(e){a("+q3Y")},"data-v-187d53f2",null).exports,l={data:function(){return{panet:"",tauxremise:"",pabrut:"",pvnet:"",coeff:""}},computed:{panetIF:function(){return 0==this.pabrut||""==this.pabrut||isNaN(this.pabrut)||0==this.tauxremise||""==this.tauxremise||isNaN(this.tauxremise)},pvnetIF:function(){return!(0!==this.panet&&""!==this.panet&&!isNaN(this.panet)&&0!==this.coeff&&""!==this.coeff&&!isNaN(this.coeff))},tauxremiseIF:function(){return!(0!==this.panet&&""!==this.panet&&!isNaN(this.panet)&&0!==this.pabrut&&""!==this.pabrut&&!isNaN(this.pabrut))},coeffIF:function(){return!(0!==this.panet&&""!==this.panet&&!isNaN(this.panet)&&0!==this.pvnet&&""!==this.pvnet&&!isNaN(this.pvnet))}},methods:{calcPanet:function(){this.panet=(parseFloat(this.pabrut)*(1-parseFloat(this.tauxremise)/100)).toFixed(2)},calcTauxremise:function(){this.tauxremise=(100*(1-parseFloat(this.panet)/parseFloat(this.pabrut))).toFixed(2)},calcPvnet:function(){this.pvnet=(parseFloat(this.panet)*parseFloat(this.coeff)).toFixed(2)},calcCoeff:function(){this.coeff=(parseFloat(this.pvnet)/parseFloat(this.panet)).toFixed(2)}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Prix d'achat net","prepend-inner-icon":"euro_symbol"},model:{value:e.panet,callback:function(t){e.panet=t},expression:"panet"}})],1),e._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[e.panetIF?e._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:e.calcPanet}},[a("v-icon",[e._v("pageview")])],1)],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Prix d'achat brut","prepend-inner-icon":"euro_symbol"},model:{value:e.pabrut,callback:function(t){e.pabrut=t},expression:"pabrut"}})],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Prix de vente net","prepend-inner-icon":"euro_symbol"},model:{value:e.pvnet,callback:function(t){e.pvnet=t},expression:"pvnet"}})],1),e._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[e.pvnetIF?e._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:e.calcPvnet}},[a("v-icon",[e._v("pageview")])],1)],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Taux de remise (%)","prepend-inner-icon":"loyalty"},model:{value:e.tauxremise,callback:function(t){e.tauxremise=t},expression:"tauxremise"}})],1),e._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[e.tauxremiseIF?e._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:e.calcTauxremise}},[a("v-icon",[e._v("pageview")])],1)],1)],1),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{grow:"","pa-1":""}},[a("v-text-field",{attrs:{color:"indigo",type:"number",label:"Coefficient multiplicateur","prepend-inner-icon":"cancel"},model:{value:e.coeff,callback:function(t){e.coeff=t},expression:"coeff"}})],1),e._v(" "),a("v-flex",{attrs:{shrink:"","pa-1":""}},[e.coeffIF?e._e():a("v-btn",{attrs:{color:"indigo",fab:"",dark:""},on:{click:e.calcCoeff}},[a("v-icon",[e._v("pageview")])],1)],1)],1)],1)},staticRenderFns:[]},c=a("VU/8")(l,s,!1,null,null,null).exports,u={props:["pharmaid","nom","lat","lon","gerant","adresse","devlat","devlon"],computed:{distance_display:function(){var e=this.distance(this.lat,this.lon,this.devlat,this.devlon,"K");return e<1?Math.round(1e3*e)+"m":e+"km"}},methods:{distance:function(e,t,a,n,o){if(e==a&&t==n)return 0;var i=Math.PI*e/180,r=Math.PI*a/180,l=t-n,s=Math.PI*l/180,c=Math.sin(i)*Math.sin(r)+Math.cos(i)*Math.cos(r)*Math.cos(s);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,"K"==o&&(c*=1.609344),"N"==o&&(c*=.8684),c=c.toFixed(2)}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("h5",[e._v("Gérant : "+e._s(e.gerant))])]),e._v(" "),a("v-card-text",[a("p",{staticClass:"text-xs-center"})]),e._v(" "),a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{grow:""}},[a("v-icon",{attrs:{color:"red"}},[e._v("place")]),e._v("\n        "+e._s(e.adresse)+"\n      ")],1),e._v(" "),a("v-flex",{attrs:{shrink:""}},[a("v-icon",{attrs:{color:"green"}},[e._v("directions_walk")]),e._v("\n        "+e._s(e.distance_display)+"\n      ")],1)],1)],1)],1)},staticRenderFns:[]};var v=a("VU/8")(u,p,!1,function(e){a("apyC")},null,null).exports,d=a("08a9"),h={data:function(){return{lat:0,lon:0,pharmas:[],pull:{pullText:"Tirez un peu plus",triggerText:"Relâchez pour rafraichir",loadingText:"Chargement...",doneText:"Terminé !",failText:"Erreur :(",loadedStayTime:100,stayDistance:50,triggerDistance:70}}},components:{PharmaInfos:v,PullTo:a.n(d).a},methods:{geolocationSuccess:function(e){this.lat=e.coords.latitude,this.lon=e.coords.longitude,console.log(this.lat),this.pharmas=this.searchPharmas()},geolocationError:function(e){console.log(e),3==e.code?alert("Veuillez activer la géolocalisation géolocalisatrice de la géolocalité svp :)"):alert("code: "+e.code+"\nmessage: "+e.message+"\n")},searchPosition:function(e){navigator.geolocation.getCurrentPosition(this.geolocationSuccess,this.geolocationError,{timeout:5e3}),e("done")},searchPharmas:function(){var e=[];return fetch("https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/nearbysearch/json?location="+this.lat+","+this.lon+"&rankby=distance&type=pharmacy&key=AIzaSyDxWZwNUysm95GtigT_oznJgeayse8wq2s").then(function(t){t.ok?t.json().then(function(t){for(var a=0;a<t.results.length;a++)e.push(t.results[a])}):console.log("Mauvaise réponse du réseau")}).catch(function(e){console.log(e),console.log("Il y a eu un problème avec l'opération fetch: "+e.message)}),e}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"hidden-xs-and-up",attrs:{id:"map"}}),e._v(" "),a("v-container",{attrs:{id:"pharmaciesList"}},[a("pull-to",{attrs:{"top-load-method":e.searchPosition,"top-config":e.pull}},[a("v-container",{attrs:{id:"pharmaciesList"}},[a("v-layout",{attrs:{column:""}},[a("v-expansion-panel",{attrs:{popout:"",expand:""}},e._l(e.pharmas,function(t){return a("v-expansion-panel-content",{key:t.name,attrs:{"expand-icon":"local_pharmacy"},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",[e._v(e._s(t.name))])]},proxy:!0}],null,!0)},[e._v(" "),a("pharma-infos",{attrs:{devlat:e.lat,devlon:e.lon,pharmaid:"pharma"+e.pharmas.indexOf(t),nom:t.name,gerant:"Jean de la Molfesse",lat:t.geometry.location.lat,lon:t.geometry.location.lng,adresse:t.vicinity}})],1)}),1)],1)],1)],1)],1),e._v(" "),a("v-btn",{staticClass:"indigo hidden-sm-and-down",attrs:{id:"refresh",fab:"",dark:""},on:{click:e.searchPosition}},[a("v-icon",{attrs:{dark:""}},[e._v("refresh")])],1)],1)},staticRenderFns:[]};var m=a("VU/8")(h,f,!1,function(e){a("2QcD")},null,null).exports,b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"pa-3"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{grow:"","pa-2":""}},[a("v-textarea",{attrs:{"auto-grow":"",rows:"1",color:e.color,label:"Titre de la question"},model:{value:e.question,callback:function(t){e.question=t},expression:"question"}})],1),e._v(" "),a("v-flex",{attrs:{shrink:"","pa-2":""}},[a("v-select",{attrs:{items:e.items,"item-value":"value","item-text":"label","prepend-icon":e.prependIcon,color:e.color},model:{value:e.typeQ,callback:function(t){e.typeQ=t},expression:"typeQ"}})],1)],1)],1)],1)},staticRenderFns:[]};var g={data:function(){return{desc:"",title:"",color:"indigo",questions:[{type:"cm",texte:"Que vaut la pharmacie bit",choix:["Bof","Ok","Top"]},{type:"ouv",texte:"Que vaut la pharmacie bit ?"}],colors:[{value:"red",label:"Rouge"},{value:"pink",label:"Rose"},{value:"purple",label:"Violet"},{value:"deep-purple",label:"Violet foncé"},{value:"indigo",label:"Indigo"},{value:"blue",label:"Bleu"},{value:"light-blue",label:"Bleu clair"},{value:"cyan",label:"Cyan"},{value:"teal",label:'Bleu "sarcelle"'},{value:"green",label:"Vert"},{value:"light-green",label:"Vert foncé"},{value:"lime",label:"Citron"},{value:"yellow",label:"Jaune"},{value:"amber",label:"Ambre"},{value:"orange",label:"Orange"},{value:"deep-orange",label:"Orange foncé"},{value:"brown",label:"Marron"},{value:"blue-grey",label:"Gris-Bleu"},{value:"grey",label:"Gris"},{value:"black",label:"Noir"}]}},components:{CreateurQuestion:a("VU/8")({props:["color","type"],data:function(){return{question:"",choix:[],items:[{value:"cm",label:"Choix multiples",icon:"radio_button_checked"},{value:"qo",label:"Question ouverte",icon:"notes"}],typeQ:this.type}},computed:{prependIcon:function(){return"cm"==this.typeQ?"radio_button_checked":"notes"}}},b,!1,function(e){a("yIHK")},null,null).exports}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-text-field",{attrs:{label:"Titre",color:e.color,box:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),a("v-textarea",{attrs:{label:"Description","auto-grow":"",box:"",color:e.color,rows:"1"},model:{value:e.desc,callback:function(t){e.desc=t},expression:"desc"}}),e._v(" "),a("v-select",{attrs:{color:e.color,items:e.colors,"item-text":"label","item-value":"value",label:"Couleur","prepend-icon":"color_lens",box:""},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}}),e._v(" "),a("createur-question",{attrs:{color:e.color,type:"cm"}}),e._v(" "),a("createur-question",{attrs:{color:e.color,type:"cm"}})],1)},staticRenderFns:[]};var x={name:"App",components:{AppBar:r,Calculatrice:c,Pharmacies:m,Formulaires:a("VU/8")(g,_,!1,function(e){a("LPJJ")},null,null).exports}},y={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",{attrs:{id:"app"}},[t("div",{attrs:{id:"appBar"}},[t("app-bar",{attrs:{title:"Nivantis",pages:[{name:"Pharmacies",icon:"local_pharmacy"},{name:"Calculatrice",icon:"dialpad"},{name:"Formulaires",icon:"ballot"}],active:"Calculatrice"}})],1),this._v(" "),t("div",{attrs:{id:"main"}},[t("div",{staticClass:"animate-opacity d-block",attrs:{id:"Calculatrice"}},[t("calculatrice")],1),this._v(" "),t("div",{staticClass:"animate-opacity d-none",attrs:{id:"Pharmacies"}},[t("pharmacies")],1),this._v(" "),t("div",{staticClass:"animate-opacity d-none",attrs:{id:"Formulaires"}},[t("formulaires")],1)])])},staticRenderFns:[]};var k=a("VU/8")(x,y,!1,function(e){a("Qt4X")},null,null).exports,w=(a("tMyM"),a("3EgV")),F=a.n(w);a("7zck");n.default.config.productionTip=!1,n.default.use(F.a),new n.default({el:"#app",components:{App:k},template:"<App/>"})},Qt4X:function(e,t){},apyC:function(e,t){},tMyM:function(e,t){},yIHK:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.0de394f998cc0f5a91fb.js.map